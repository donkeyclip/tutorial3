# Browser / DOM implementation Context Handlers

There are 4 in total Context Handlers implemented for the needs of our BrowserClip:

- **DOMContextHandler**. All other 3 Context Handlers extend this one. Sets the basic implementation for DOM
  and just by extending it and changing some of its parts the following three Classes implement specific
  implementations.
- **WebComponentContextHandler**, which renders the Clip in a #shadow root, acting as a Web Component
- **IframeContextHandler**, which is a fallback for browsers not supporting #shadow DOM, like our testing framework (headless)
- **HTMLFragmentedContextHandler**, which is used as a "fragment" of the Clip. By the term "fragment" we
  refer to a non-rendered on the screen Clip. This Context Handler acts exactly as the WebComponentCH
  with the only difference being that it doesn't render the Clip but rather it keeps it as a "fragment".
  In the specific implementation the full Clip is kept on an HTMLElement in the memory.

# How CASI works / the 'fragment' context property

When a new Clip is been instantiated as CASI DescriptiveClip uses the FragmentedCH to implement the
Clip. At this point the context of the Clip has the property `fragment` set to true.

Once the CASI enters a Clip a number of copies are created, one for each element it applies to.
