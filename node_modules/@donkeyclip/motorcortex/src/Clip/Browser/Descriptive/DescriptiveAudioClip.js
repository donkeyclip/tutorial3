/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */

import HTMLDescriptiveClip from './HTMLDescriptiveClip';
import { hasOwnProp } from '../../../_coreUtils/helper';

export default class DescriptiveAudioClip extends HTMLDescriptiveClip {
  constructor(attrs, props = null) {
    let attrsToPass;
    let propsToUse;

    if (props === null && hasOwnProp(attrs, 'audioSources')) {
      attrsToPass = {};
      propsToUse = attrs;
    } else if (props === null) {
      attrsToPass = attrs;
      propsToUse = {};
    } else {
      // else, in case the user has passed two arguments then both should be used
      attrsToPass = attrs;
      propsToUse = props;
    }

    propsToUse.audio = 'only';

    super(attrsToPass, propsToUse);
  }
}
