/*
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */

import { isFunction } from '../../_coreUtils/helper';

function yesToAll() {
  return { result: true };
}

export default function NBEC(clip, errors) {
  const handler = {
    get: function (target, prop) {
      if (isFunction(target[prop])) {
        return yesToAll;
      }
      if (prop === 'nonBlockingErrorClip') {
        return true;
      }
      if (prop === 'errors') {
        return errors;
      }
      return target[prop];
    },
  };

  return new Proxy(clip, handler);
}
