# TimedTree

<i>it's more the "Timed" than the "Tree"</i>

TimedTree is the heart of the MotorCortex implementation. What it represents / implements is a Tree of Nodes & Leaves.
Each Node can take other Nodes or Leaves in it while each Leaf is a terminal.

`Timed` is what makes the difference. Nodes and Leaves not only they get attached to other Nodes, but they
get attached on a specific millisecond on their timeline. All Elements (Nodes & Leaves) can take delay, hiatus and repeats
in their props. Only Leaves can also take duration while Nodes automatically calculate it out of the Elements
they have on their timeline and their duration.

## Inter-Communication

Pipelines interconnect the full Tree structure so communication is easy between any two (or more) Elements at any time.
Each Element (either Node or Leaf) can communicate with any of its ancestors or successors.
Both Leaves & Nodes can send a message either upwards (targeting their ancestors) or downwards in the Tree
(targeting their successors) and get a combined response from all the target Elements, at once. This is implemented via
`putMessageOnPipe`, a method which takes a number of arguments and puts a specific message with a specific payload,
targeting specific Elements in the Tree. What is the most important is the message id (e.g. message: "doSomething")

All Elements of the Tree that need to respond to messages have to implement the method `handle<MessageID>`.
For example Elements of the Tree that need to handle the message "doSomething" need to implement the method
`handleDoSomething` which will take as arguments the message's payload & target.

The reasons for implementing pipe messaging this way are:

- We want TimedTree and all of its functionality to remain a core and only core-feature, forever
- Having said that the piping and handling of messages is going to be 100% managed by core-code
- All Classes in MC that enter a TimedTree (extend Node or Leaf) that need to handle specific messages will need
  to implement specific methods starting with `handle` something that will make it very clear they are handling a message.

**For this reason, the core MC Development Team must avoid any method starting with `handle` in the Classes
unless it's actually handling a pipe message.**
